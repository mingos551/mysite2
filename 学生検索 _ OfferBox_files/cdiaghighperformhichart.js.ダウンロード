// 適性診断チャート作成
(function($){
    $.fn.diagHighcharts = function(titles, elm, options, chart_title, width) {
        if (!width) {
            width = 290;
        }
        if (!chart_title) {
            chart_title = '';
        }

        var default_settings = {
            chart : {
                polar  : true,
                height : 340,
                width  : width,
                // width  : 290,
                type   : 'line'
            },
            title : {
                text: chart_title,
                style : {
                // display : 'none'
            }},
            pane  : {
                size : '60%'
            },
            xAxis : {
                tickmarkPlacement : 'on',
                lineWidth         : 0,
                labels            : {style : {
                    fontSize : '10px',
                    border : '1px solid #000'
                }}
            },
            yAxis : {
                gridLineInterpolation : 'polygon',
                lineWidth             : 0,
                min                   : 0,
                max                   : 100,
                labels                : {style : {
                    fontSize : '10px'
                }}
            },
            // マウスをのせたときの表示
            tooltip : {
                shared       : true,
                headerFormat : '',
                valueSuffix  : '点',
                pointFormat  : '<span style="color:{series.color}">{series.name}: <b>{point.y}</b><br/>',
            },
            // マウスをのせたときの表示
            legend : {
                enabled       : true,
                align         : 'right',
                verticalAlign : 'top',
                y             : 40,
                floating      : true,
                layout        : 'vertical'
            },
            // 右下のHighchartsの文言
            credits : {
                text: ''
            },
            exporting : {
                buttons: {
                    printButton  : {enabled : false},
                    exportButton : {enabled : false}
                }
            }
        };

        var settings = $.extend(true, {}, default_settings, options);

        return this.each(function() {
            settings.chart.renderTo   = $(this).attr('id');
            settings.xAxis.categories = titles;
            settings.series           = elm;
            chart = new Highcharts.Chart(settings);
        });

    };
})(jQuery);

function drow_tekiseiChart3(elm, sfx, legend, mobile, titles){
	var	width	= 218;
	var cat		= titles;
	if( mobile ){	// mobile mode
		width	= 200;
		cat		= ['(1)','(2)','(3)','(4)'];
	}
	chart = new Highcharts.Chart({
		chart: {
			renderTo:			'sdiagChart_'+sfx,
			polar:				true,
			height:				185,
			width:				width,
			marginTop: 			0,
			marginBottom:       10,
			//backgroundColor:    '#f1f1f1',
			//borderColor: '#EBBA95',
            //borderWidth: 2,
			type:				'line'
		},
		title: {
			text: 'ffffff',
			    style: {
			        display: 'none'
			    }
		},
		pane: {
			size:				'75%'
		},
		xAxis: {
			/*categories:			['(1)論理的・理性的','(2)計画的・堅実的','(3)友好的・感覚的','(4)冒険的・独創的'],*/
			categories:			cat,
			tickmarkPlacement:	'on',
			lineWidth:			0,
			labels: {
				style: {
					fontSize:	'8px'
				}
			}
		},
		yAxis: {
			gridLineInterpolation:	'polygon',
			lineWidth:				0,
			min:					0,
			max:                    100,
			labels: {
				style: {
					fontSize:		'10px'
				}
			}
		},
		tooltip: {		// マウスをのせたときの表示
			shared:				true,
			//formatter: function() {
			//	return this.y + '点';
			//},
			headerFormat: "",
			valueSuffix: '点',
			pointFormat: '<span style="color:{series.color}">{series.name}: <b>{point.y}</b><br/>',
		},
		legend: {	// 凡例非表示
			enabled:			legend,
			align:				'right',
			verticalAlign:		'top',
			y:					40,
			floating:			true,
			layout:				'vertical'
		},
		credits: { 	// 右下のHighchartsの文言削除
			text: ''
		},
		exporting: {
			buttons: {
				printButton:{
					enabled:	false
				},
				exportButton: {
					enabled:	false
				}
			}
		},
		series: elm		// plot data( name, data, pointPlacement )
	});
}
